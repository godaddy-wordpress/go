[data-header="header-5"] {

	&::before {
		content: "has-search-toggle has-offscreen-nav";
		display: none;

		@media (--large) {
			content: "has-search-toggle has-offscreen-nav";
		}
	}

	/*  Open menu overlay effect */
	&::after {
		@media (--medium) {
			background-color: var(--theme-offscreen-nav-overlay--color);
			bottom: 0;
			content: "";
			display: block;
			height: 100%;
			left: 0;
			opacity: 0;
			position: fixed;
			right: 0;
			top: 0;
			transition: opacity 200ms 0ms linear, visibility 0ms 350ms linear;
			visibility: hidden;
			width: 100%;
			z-index: 10;
		}
	}

	& .site {
		@media (--medium) {
			margin-left: var(--theme-header-5-nav--width);
		}
	}

	& .site-header__inner {
		@media (--small) {
			padding-bottom: calc(var(--theme-header--padding-y) * 1.75);
			padding-top: calc(var(--theme-header--padding-y) * 1.75);
		}
	}

	& .site-header .site-branding {
		flex: 1 0 60%;
		max-width: 100%;
		padding-left: 1rem;

		@media (--medium) {
			padding-left: 0;
		}
	}

	& .site-navigation {
		bottom: 0;
		height: var(--theme-site-nav-toggle--size);
		left: 0;
		overflow: hidden;
		position: relative;
		top: 0;
		width: var(--theme-site-nav-toggle--size);
		z-index: 1000;

		@media (--medium) {
			box-shadow: var(--theme-header-5--shadow);
			height: 100%;
			position: fixed;
			transition: width 250ms cubic-bezier(0.42, 0, 0.12, 1);
			width: var(--theme-header-5-nav--width);
		}

		@media (--large) {
			height: auto;
			width: var(--theme-header-5-nav--width);
		}

		&[aria-hidden="true"] .primary-menu {
			opacity: 0;
			pointer-events: none;
		}
	}

	& .site-navigation__toggle {
		display: block;
		margin: 0;
		padding: 0;
		position: absolute;
		right: 0;
		top: 0.25rem;

		@media (--medium) {
			height: var(--theme-header-5-nav--width);
			width: var(--theme-header-5-nav--width);
		}

		@media (--large) {
			display: block;
		}

		&:hover {

			& .site-navigation__toggle-icon-inner,
			& .site-navigation__toggle-icon-inner::before,
			& .site-navigation__toggle-icon-inner::after {
				background-color: hsl(var(--theme-header-5-offscreen-nav--color));
			}
		}

		&:focus {
			outline-offset: -10px;
		}
	}

	& .site-navigation__toggle-icon-inner,
	& .site-navigation__toggle-icon-inner::before,
	& .site-navigation__toggle-icon-inner::after {
		background-color: hsl(var(--theme-header-5-offscreen-nav--color));
	}

	& .site-search {
		left: calc(var(--theme-block-padding-x) - 1rem);
		opacity: 0;
		position: absolute;
		right: calc(var(--theme-block-padding-x) - 1rem);
		transform: translateX(100%);
		transition: opacity 175ms ease-out, transform ease-out 125ms;
		z-index: 1200;

		@media (--large) {
			left: auto;
		}
	}

	/*
	Because we're doing a full height reveal container on the navigation,
	there is a flash of nav items, since we need to wait for the JS to load
	in order to provide the aria controls. To counter this flash, we temporarily
	position the menu items offscreen using left and absolute positioning.
	*/
	& .primary-menu {
		left: -5000px;
		margin-right: 0;
		overflow-y: scroll;
		padding-left: 0;
		padding-right: 0;
		padding-top: 4em;
		position: absolute;
		width: 100%;

		& a {
			font-size: var(--theme-site-nav--font-size-mobile);
		}

		& .menu-item {
			@media (--large) {
				display: block;
			}
		}

		& .menu-item-has-children {

			& > [aria-haspopup] {

				&::after {
					background-image: url("../../dist/shared/images/arrow-down.svg");
				}
			}
		}

		& .sub-menu {
			margin-left: -1rem;
			margin-right: -1rem;
			padding: 0 1rem;

			& .sub-menu {
				margin: 0 -1rem;
				padding: 0 1rem;
			}

			@media (--large) {
				left: auto;
				margin-left: 0;
				margin-right: 0;
				padding: 0;
				position: relative;
				text-align: inherit;
				top: auto;
				transform: none;
				width: auto;

				& .sub-menu {
					margin: 0 0 0 -2rem;
					padding-left: 1rem;
				}
			}

			&::before {
				display: none;
			}
		}

		& > .menu-item-has-children {

			&:hover {

				& > .sub-menu {
					@media (--large) {
						display: none;
					}

					&::before {
						display: none;
					}
				}
			}
		}

		& > .menu-item-has-children.child-has-focus {

			& > .sub-menu {
				display: block;
			}
		}
	}
}
